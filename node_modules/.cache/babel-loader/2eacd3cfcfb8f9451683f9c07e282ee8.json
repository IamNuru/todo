{"ast":null,"code":"import axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport { ADD_TODO, DELETE_TODO, ERRORS, UPDATE_TODO, GET_TODOS, GET_TODO, SET_LOADING, CLEAR_ERRORS, CLEAR_CURRENT, CLEAR_TODOS } from \"./types\";\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n}; //actions\n//add todo item to server\n\nexport const addTodo = item => {\n  var _s = $RefreshSig$();\n\n  return _s(async dispatch => {\n    _s();\n\n    const {\n      id\n    } = useParams();\n    await axios.post(`${process.env.REACT_APP_API_URL}/additem/${id}`, item, config).then(res => {\n      dispatch({\n        type: ADD_TODO,\n        payload: res.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors\n      });\n    });\n  }, \"r5uZNI/QgQLJ6YUN+rmQ/OIgZ/k=\", false, function () {\n    return [useParams];\n  });\n}; //get todos from server\n\nexport const getTodos = id => async dispatch => {\n  try {\n    const res = await fetch(`${process.env.REACT_APP_API_URL}/todos/${id}`);\n    const data = await res.json();\n    dispatch({\n      type: GET_TODOS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ERRORS,\n      payload: \"Something went wrong\"\n    });\n  }\n}; //delete todo from locastorage\n\nexport const deleteTodo = id => async dispatch => {\n  await axios.delete(`${process.env.REACT_APP_API_URL}/todo/${id}`, config).then(res => {\n    dispatch({\n      type: DELETE_TODO,\n      payload: id\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data.errors\n    });\n  });\n}; //update a todo item\n\nexport const updateTodo = (id, item) => async dispatch => {\n  await axios.post(`${process.env.REACT_APP_API_URL}/updateitem/${id}`, item, config).then(res => {\n    dispatch({\n      type: UPDATE_TODO,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data.errors\n    });\n  });\n}; //set the current\n\nexport const setCurrent = data => dispatch => {\n  dispatch({\n    type: GET_TODO,\n    payload: data\n  });\n}; //clear todo errors\n\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n}; //clear stodos\n\nexport const clearTodos = () => {\n  return {\n    type: CLEAR_TODOS\n  };\n}; //clear current\n\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT\n  };\n}; //set loading\n\nexport const setLoading = () => {\n  console.log(\"loadingS\");\n  return {\n    type: SET_LOADING\n  };\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodoActions.js"],"names":["axios","useParams","ADD_TODO","DELETE_TODO","ERRORS","UPDATE_TODO","GET_TODOS","GET_TODO","SET_LOADING","CLEAR_ERRORS","CLEAR_CURRENT","CLEAR_TODOS","config","headers","addTodo","item","dispatch","id","post","process","env","REACT_APP_API_URL","then","res","type","payload","data","catch","err","response","errors","getTodos","fetch","json","error","deleteTodo","delete","updateTodo","setCurrent","clearErrors","clearTodos","clearCurrent","setLoading","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEA,SACEC,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,QANF,EAOEC,WAPF,EAQEC,YARF,EASEC,aATF,EAUEC,WAVF,QAWO,SAXP;AAaA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE;AACP,oBAAgB,kBADT;AAEP,mCAA+B;AAFxB;AADI,CAAf,C,CAMA;AAEA;;AACA,OAAO,MAAMC,OAAO,GAAIC,IAAD;AAAA;;AAAA,YAAU,MAAOC,QAAP,IAAoB;AAAA;;AACnD,UAAM;AAACC,MAAAA;AAAD,QAAOhB,SAAS,EAAtB;AACA,UAAMD,KAAK,CACRkB,IADG,CACG,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,YAAWJ,EAAG,EADjD,EACoDF,IADpD,EAC0DH,MAD1D,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbP,MAAAA,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEtB,QADC;AAEPuB,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CAAR;AAID,KAPG,EAQHC,KARG,CAQIC,GAAD,IAAS;AACdZ,MAAAA,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEpB,MADC;AAEPqB,QAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI;AAFpB,OAAD,CAAR;AAID,KAbG,CAAN;AAcD,GAhBsB;AAAA,YACR7B,SADQ;AAAA;AAAA,CAAhB,C,CAkBP;;AACA,OAAO,MAAM8B,QAAQ,GAAId,EAAD,IAAQ,MAAOD,QAAP,IAAoB;AAChD,MAAI;AACF,UAAMO,GAAG,GAAG,MAAMS,KAAK,CAAE,GAAEb,OAAO,CAACC,GAAR,CAAYC,iBAAkB,UAASJ,EAAG,EAA9C,CAAvB;AACA,UAAMS,IAAI,GAAG,MAAMH,GAAG,CAACU,IAAJ,EAAnB;AACAjB,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAElB,SADC;AAEPmB,MAAAA,OAAO,EAAEC;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOQ,KAAP,EAAc;AACdlB,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEpB,MADC;AAEPqB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CAdI,C,CAgBP;;AACA,OAAO,MAAMU,UAAU,GAAIlB,EAAD,IAAQ,MAAOD,QAAP,IAAoB;AACpD,QAAMhB,KAAK,CACRoC,MADG,CACK,GAAEjB,OAAO,CAACC,GAAR,CAAYC,iBAAkB,SAAQJ,EAAG,EADhD,EACmDL,MADnD,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAErB,WADC;AAEPsB,MAAAA,OAAO,EAAER;AAFF,KAAD,CAAR;AAID,GAPG,EAQHU,KARG,CAQIC,GAAD,IAAS;AACdZ,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEpB,MADC;AAEPqB,MAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI;AAFpB,KAAD,CAAR;AAID,GAbG,CAAN;AAcD,CAfM,C,CAiBP;;AACA,OAAO,MAAMO,UAAU,GAAG,CAACpB,EAAD,EAAKF,IAAL,KAAc,MAAOC,QAAP,IAAoB;AAC1D,QAAMhB,KAAK,CACRkB,IADG,CACG,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,eAAcJ,EAAG,EADpD,EACuDF,IADvD,EAC6DH,MAD7D,EAEHU,IAFG,CAEGC,GAAD,IAAS;AACbP,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEnB,WADC;AAEPoB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,KAAD,CAAR;AAID,GAPG,EAQHC,KARG,CAQIC,GAAD,IAAS;AACdZ,IAAAA,QAAQ,CAAC;AACPQ,MAAAA,IAAI,EAAEpB,MADC;AAEPqB,MAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaH,IAAb,CAAkBI;AAFpB,KAAD,CAAR;AAID,GAbG,CAAN;AAcD,CAfM,C,CAiBP;;AACA,OAAO,MAAMQ,UAAU,GAAIZ,IAAD,IAAWV,QAAD,IAAc;AAChDA,EAAAA,QAAQ,CAAC;AACPQ,IAAAA,IAAI,EAAEjB,QADC;AAEPkB,IAAAA,OAAO,EAAEC;AAFF,GAAD,CAAR;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMa,WAAW,GAAG,MAAM;AAC/B,SAAO;AACLf,IAAAA,IAAI,EAAEf;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAM+B,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLhB,IAAAA,IAAI,EAAEb;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAM8B,YAAY,GAAG,MAAM;AAChC,SAAO;AACLjB,IAAAA,IAAI,EAAEd;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAMgC,UAAU,GAAG,MAAM;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,SAAO;AACLpB,IAAAA,IAAI,EAAEhB;AADD,GAAP;AAGD,CALM","sourcesContent":["import axios from \"axios\";\nimport { useParams } from \"react-router\";\n\nimport {\n  ADD_TODO,\n  DELETE_TODO,\n  ERRORS,\n  UPDATE_TODO,\n  GET_TODOS,\n  GET_TODO,\n  SET_LOADING,\n  CLEAR_ERRORS,\n  CLEAR_CURRENT,\n  CLEAR_TODOS,\n} from \"./types\";\n\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\n//actions\n\n//add todo item to server\nexport const addTodo = (item) => async (dispatch) => {\n  const {id} = useParams();\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/additem/${id}`, item, config)\n    .then((res) => {\n      dispatch({\n        type: ADD_TODO,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors,\n      });\n    });\n};\n\n//get todos from server\nexport const getTodos = (id) => async (dispatch) => {\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/todos/${id}`);\n      const data = await res.json();\n      dispatch({\n        type: GET_TODOS,\n        payload: data,\n      });\n    } catch (error) {\n      dispatch({\n        type: ERRORS,\n        payload: \"Something went wrong\",\n      });\n    }\n  };\n\n//delete todo from locastorage\nexport const deleteTodo = (id) => async (dispatch) => {\n  await axios\n    .delete(`${process.env.REACT_APP_API_URL}/todo/${id}`, config)\n    .then((res) => {\n      dispatch({\n        type: DELETE_TODO,\n        payload: id,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors,\n      });\n    });\n};\n\n//update a todo item\nexport const updateTodo = (id, item) => async (dispatch) => {\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/updateitem/${id}`, item, config)\n    .then((res) => {\n      dispatch({\n        type: UPDATE_TODO,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors,\n      });\n    });\n};\n\n//set the current\nexport const setCurrent = (data) => (dispatch) => {\n  dispatch({\n    type: GET_TODO,\n    payload: data,\n  });\n};\n\n//clear todo errors\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS,\n  };\n};\n\n//clear stodos\nexport const clearTodos = () => {\n  return {\n    type: CLEAR_TODOS,\n  };\n};\n\n//clear current\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT,\n  };\n};\n\n//set loading\nexport const setLoading = () => {\n  console.log(\"loadingS\");\n  return {\n    type: SET_LOADING,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
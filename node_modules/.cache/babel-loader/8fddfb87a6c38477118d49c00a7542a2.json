{"ast":null,"code":"import { ADD_TODO, DELETE_TODO, ERRORS, UPDATE_TODO, GET_TODOS, GET_TODO, SET_LOADING, CLEAR_ERRORS } from \"./types\"; //actions\n//add todo item to server\n\nexport const addTodo = data => async dispatch => {\n  //Add to local storage\n  var stodos = [];\n\n  if (localStorage.getItem(\"todos\")) {\n    stodos = JSON.parse(localStorage.getItem(\"todos\"));\n  }\n\n  stodos.push({\n    id: '2',\n    description: data.description,\n    deadline: data.deadline,\n    status: false\n  });\n  await localStorage.setItem(\"todos\", JSON.stringify(stodos));\n  await getTodos();\n}; //get todos from server\n\nexport const getTodos = () => async dispatch => {\n  /*  try {\n        fetch('https://jsonplaceholder.typicode.com/todos')\n  .then((response) => response.json())\n  .then((json) => dispatch({\n        type: GET_TODOS,\n        payload: json}));\n        \n    } catch (error) {\n        dispatch({\n            type: ERRORS,\n            payload: error.response\n        })\n    } */\n  //if there is a todos object in localstorage\n  //use data in it and fill todos\n  if (localStorage.getItem(\"todos\")) {\n    dispatch({\n      type: GET_TODOS,\n      payload: JSON.parse(localStorage.getItem(\"todos\"))\n    });\n  } else {\n    dispatch({\n      type: ERRORS,\n      payload: 'NO DATA AVAILABLE'\n    });\n  }\n}; //delete todo from server\n//update a todo item\n//clear todo errors\n\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n}; //set loading\n\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING\n  };\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodoActions.js"],"names":["ADD_TODO","DELETE_TODO","ERRORS","UPDATE_TODO","GET_TODOS","GET_TODO","SET_LOADING","CLEAR_ERRORS","addTodo","data","dispatch","stodos","localStorage","getItem","JSON","parse","push","id","description","deadline","status","setItem","stringify","getTodos","type","payload","clearErrors","setLoading"],"mappings":"AAAA,SACEA,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,QANF,EAOEC,WAPF,EAQEC,YARF,QASO,SATP,C,CAWA;AAEA;;AACA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACnD;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AAC/BF,IAAAA,MAAM,GAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAT;AACH;;AACDF,EAAAA,MAAM,CAACK,IAAP,CAAY;AACRC,IAAAA,EAAE,EAAE,GADI;AAERC,IAAAA,WAAW,EAAET,IAAI,CAACS,WAFV;AAGRC,IAAAA,QAAQ,EAAEV,IAAI,CAACU,QAHP;AAIRC,IAAAA,MAAM,EAAE;AAJA,GAAZ;AAMA,QAAMR,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA8BP,IAAI,CAACQ,SAAL,CAAeX,MAAf,CAA9B,CAAN;AACA,QAAMY,QAAQ,EAAd;AACD,CAdM,C,CAgBP;;AACA,OAAO,MAAMA,QAAQ,GAAG,MAAM,MAAOb,QAAP,IAAoB;AAChD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;AACA,MAAIE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCH,IAAAA,QAAQ,CAAC;AACPc,MAAAA,IAAI,EAAEpB,SADC;AAEPqB,MAAAA,OAAO,EAAEX,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAFF,KAAD,CAAR;AAID,GALD,MAKO;AACLH,IAAAA,QAAQ,CAAC;AACPc,MAAAA,IAAI,EAAEtB,MADC;AAEPuB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CA3BM,C,CA6BP;AAEA;AAEA;;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC/B,SAAO;AACLF,IAAAA,IAAI,EAAEjB;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAMoB,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLH,IAAAA,IAAI,EAAElB;AADD,GAAP;AAGD,CAJM","sourcesContent":["import {\n  ADD_TODO,\n  DELETE_TODO,\n  ERRORS,\n  UPDATE_TODO,\n  GET_TODOS,\n  GET_TODO,\n  SET_LOADING,\n  CLEAR_ERRORS,\n} from \"./types\";\n\n//actions\n\n//add todo item to server\nexport const addTodo = (data) => async (dispatch) => {\n  //Add to local storage\n  var stodos = [];\n  if (localStorage.getItem(\"todos\")) {\n      stodos = JSON.parse(localStorage.getItem(\"todos\"));\n  }\n  stodos.push({\n      id: '2',\n      description: data.description,\n      deadline: data.deadline,\n      status: false,\n  });\n  await localStorage.setItem(\"todos\", JSON.stringify(stodos));\n  await getTodos()\n};\n\n//get todos from server\nexport const getTodos = () => async (dispatch) => {\n  /*  try {\n        fetch('https://jsonplaceholder.typicode.com/todos')\n  .then((response) => response.json())\n  .then((json) => dispatch({\n        type: GET_TODOS,\n        payload: json}));\n        \n    } catch (error) {\n        dispatch({\n            type: ERRORS,\n            payload: error.response\n        })\n    } */\n  //if there is a todos object in localstorage\n  //use data in it and fill todos\n  if (localStorage.getItem(\"todos\")) {\n    dispatch({\n      type: GET_TODOS,\n      payload: JSON.parse(localStorage.getItem(\"todos\")),\n    });\n  } else {\n    dispatch({\n      type: ERRORS,\n      payload: 'NO DATA AVAILABLE'\n    });\n  }\n};\n\n//delete todo from server\n\n//update a todo item\n\n//clear todo errors\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS,\n  };\n};\n\n//set loading\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
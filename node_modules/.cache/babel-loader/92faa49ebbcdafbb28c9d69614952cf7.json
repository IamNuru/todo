{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_TODO_LIST, DELETE_TODO_LIST, ERRORS, UPDATE_TODO_LIST, GET_TODO_LIST, GET_TODO_LISTS, SET_LOADING, CLEAR_ERRORS, CLEAR_CURRENT } from \"./types\";\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n}; //actions\n//add todo item to server\n\nexport const addTodolist = item => async dispatch => {\n  setLoading();\n  await axios.post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config).then(res => {\n    dispatch({\n      type: ADD_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n}; //get todos from server\n\nexport const getTodolists = () => async dispatch => {\n  await setLoading();\n  await axios.get(`${process.env.REACT_APP_API_URL}/todolists`, config).then(res => {\n    dispatch({\n      type: GET_TODO_LISTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: \"Something went wrong\"\n    });\n  });\n}; //delete todo from locastorage\n\nexport const deleteTodolist = id => async dispatch => {\n  await axios.delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config).then(res => {\n    dispatch({\n      type: DELETE_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data.errors\n    });\n  });\n}; //update a todo item\n\nexport const updateTodolist = (id, item) => async dispatch => {\n  await axios.post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config).then(res => {\n    dispatch({\n      type: UPDATE_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ERRORS,\n      payload: err.response.data.errors\n    });\n  });\n}; //set the current\n\nexport const setCurrent = data => dispatch => {\n  dispatch({\n    type: GET_TODO_LIST,\n    payload: data\n  });\n}; //clear todo errors\n\n/* export const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n}; */\n//clear current\n\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT\n  };\n}; //set loading\n\nexport const setLoading = () => dispatch => {\n  dispatch({\n    type: SET_LOADING\n  });\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodolistActions.js"],"names":["axios","ADD_TODO_LIST","DELETE_TODO_LIST","ERRORS","UPDATE_TODO_LIST","GET_TODO_LIST","GET_TODO_LISTS","SET_LOADING","CLEAR_ERRORS","CLEAR_CURRENT","config","headers","addTodolist","item","dispatch","setLoading","post","process","env","REACT_APP_API_URL","then","res","type","payload","data","catch","err","response","errors","getTodolists","get","deleteTodolist","id","delete","updateTodolist","setCurrent","clearCurrent"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport {\n  ADD_TODO_LIST,\n  DELETE_TODO_LIST,\n  ERRORS,\n  UPDATE_TODO_LIST,\n  GET_TODO_LIST,\n  GET_TODO_LISTS,\n  SET_LOADING,\n  CLEAR_ERRORS,\n  CLEAR_CURRENT,\n} from \"./types\";\n\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\n//actions\n\n//add todo item to server\nexport const addTodolist = (item) => async (dispatch) => {\n  setLoading()\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config)\n    .then((res) => {\n      dispatch({\n        type: ADD_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response && err.response.data.errors,\n      });\n    });\n};\n\n//get todos from server\nexport const getTodolists = () => async (dispatch) => {\n  await setLoading();\n  await axios\n    .get(`${process.env.REACT_APP_API_URL}/todolists`, config)\n    .then((res) => {\n      dispatch({\n        type: GET_TODO_LISTS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: \"Something went wrong\",\n      });\n    });\n};\n\n//delete todo from locastorage\nexport const deleteTodolist = (id) => async (dispatch) => {\n  await axios\n    .delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config)\n    .then((res) => {\n      dispatch({\n        type: DELETE_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors,\n      });\n    });\n};\n\n//update a todo item\nexport const updateTodolist = (id, item) => async (dispatch) => {\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config)\n    .then((res) => {\n      dispatch({\n        type: UPDATE_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: ERRORS,\n        payload: err.response.data.errors,\n      });\n    });\n};\n\n//set the current\nexport const setCurrent = (data) => (dispatch) => {\n  dispatch({\n    type: GET_TODO_LIST,\n    payload: data,\n  });\n};\n\n//clear todo errors\n/* export const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n}; */\n\n//clear current\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_CURRENT,\n  };\n};\n\n//set loading\nexport const setLoading = () => dispatch => {\n  dispatch ({\n    type: SET_LOADING,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}
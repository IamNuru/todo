{"ast":null,"code":"import { ADD_TODO, DELETE_TODO, ERRORS, UPDATE_TODO, GET_TODOS, GET_TODO, SET_LOADING, CLEAR_ERRORS } from \"./types\"; //actions\n//add todo item to server\n\nexport const addTodo = data => async dispatch => {\n  //Add to local storage\n  var stodos = [];\n\n  if (localStorage.getItem(\"todos\")) {\n    stodos = JSON.parse(localStorage.getItem(\"todos\"));\n  }\n\n  stodos.push({\n    id: Math.abs(new Date()),\n    description: data.description,\n    deadline: data.deadline,\n    status: false\n  });\n  await localStorage.setItem(\"todos\", JSON.stringify(stodos));\n  getTodos();\n  /* dispatch({\n      type: ADD_TODO,\n      payload: data\n  }) */\n}; //get todos from server\n\nexport const getTodos = () => async dispatch => {\n  console.log('worked');\n  /*  try {\n        fetch('https://jsonplaceholder.typicode.com/todos')\n  .then((response) => response.json())\n  .then((json) => dispatch({\n        type: GET_TODOS,\n        payload: json}));\n        \n    } catch (error) {\n        dispatch({\n            type: ERRORS,\n            payload: error.response\n        })\n    } */\n  //if there is a todos object in localstorage\n  //use data in it and fill todos\n\n  if (localStorage.getItem(\"todos\")) {\n    dispatch({\n      type: GET_TODOS,\n      payload: JSON.parse(localStorage.getItem(\"todos\"))\n    });\n  } else {\n    dispatch({\n      type: ERRORS,\n      payload: 'NO DATA AVAILABLE'\n    });\n  }\n}; //delete todo from server\n//update a todo item\n//clear todo errors\n\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS\n  };\n}; //set loading\n\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING\n  };\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodoActions.js"],"names":["ADD_TODO","DELETE_TODO","ERRORS","UPDATE_TODO","GET_TODOS","GET_TODO","SET_LOADING","CLEAR_ERRORS","addTodo","data","dispatch","stodos","localStorage","getItem","JSON","parse","push","id","Math","abs","Date","description","deadline","status","setItem","stringify","getTodos","console","log","type","payload","clearErrors","setLoading"],"mappings":"AAAA,SACEA,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,QANF,EAOEC,WAPF,EAQEC,YARF,QASO,SATP,C,CAWA;AAEA;;AACA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACnD;AACA,MAAIC,MAAM,GAAG,EAAb;;AACA,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AAC/BF,IAAAA,MAAM,GAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAT;AACH;;AACDF,EAAAA,MAAM,CAACK,IAAP,CAAY;AACRC,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,CAAS,IAAIC,IAAJ,EAAT,CADI;AAERC,IAAAA,WAAW,EAAEZ,IAAI,CAACY,WAFV;AAGRC,IAAAA,QAAQ,EAAEb,IAAI,CAACa,QAHP;AAIRC,IAAAA,MAAM,EAAE;AAJA,GAAZ;AAMA,QAAMX,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BV,IAAI,CAACW,SAAL,CAAed,MAAf,CAA9B,CAAN;AACAe,EAAAA,QAAQ;AACR;AACF;AACA;AACA;AACC,CAlBM,C,CAoBP;;AACA,OAAO,MAAMA,QAAQ,GAAG,MAAM,MAAOhB,QAAP,IAAoB;AAC9CiB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACF;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;AACA;;AACA,MAAIhB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCH,IAAAA,QAAQ,CAAC;AACPmB,MAAAA,IAAI,EAAEzB,SADC;AAEP0B,MAAAA,OAAO,EAAEhB,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAFF,KAAD,CAAR;AAID,GALD,MAKO;AACLH,IAAAA,QAAQ,CAAC;AACPmB,MAAAA,IAAI,EAAE3B,MADC;AAEP4B,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CA5BM,C,CA8BP;AAEA;AAEA;;AACA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC/B,SAAO;AACLF,IAAAA,IAAI,EAAEtB;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,MAAMyB,UAAU,GAAG,MAAM;AAC9B,SAAO;AACLH,IAAAA,IAAI,EAAEvB;AADD,GAAP;AAGD,CAJM","sourcesContent":["import {\n  ADD_TODO,\n  DELETE_TODO,\n  ERRORS,\n  UPDATE_TODO,\n  GET_TODOS,\n  GET_TODO,\n  SET_LOADING,\n  CLEAR_ERRORS,\n} from \"./types\";\n\n//actions\n\n//add todo item to server\nexport const addTodo = (data) => async (dispatch) => {\n  //Add to local storage\n  var stodos = [];\n  if (localStorage.getItem(\"todos\")) {\n      stodos = JSON.parse(localStorage.getItem(\"todos\"));\n  }\n  stodos.push({\n      id: Math.abs(new Date()),\n      description: data.description,\n      deadline: data.deadline,\n      status: false,\n  });\n  await localStorage.setItem(\"todos\", JSON.stringify(stodos));\n  getTodos()\n  /* dispatch({\n      type: ADD_TODO,\n      payload: data\n  }) */\n};\n\n//get todos from server\nexport const getTodos = () => async (dispatch) => {\n    console.log('worked')\n  /*  try {\n        fetch('https://jsonplaceholder.typicode.com/todos')\n  .then((response) => response.json())\n  .then((json) => dispatch({\n        type: GET_TODOS,\n        payload: json}));\n        \n    } catch (error) {\n        dispatch({\n            type: ERRORS,\n            payload: error.response\n        })\n    } */\n  //if there is a todos object in localstorage\n  //use data in it and fill todos\n  if (localStorage.getItem(\"todos\")) {\n    dispatch({\n      type: GET_TODOS,\n      payload: JSON.parse(localStorage.getItem(\"todos\")),\n    });\n  } else {\n    dispatch({\n      type: ERRORS,\n      payload: 'NO DATA AVAILABLE'\n    });\n  }\n};\n\n//delete todo from server\n\n//update a todo item\n\n//clear todo errors\nexport const clearErrors = () => {\n  return {\n    type: CLEAR_ERRORS,\n  };\n};\n\n//set loading\nexport const setLoading = () => {\n  return {\n    type: SET_LOADING,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}
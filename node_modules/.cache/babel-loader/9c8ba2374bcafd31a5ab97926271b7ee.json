{"ast":null,"code":"import axios from \"axios\";\nimport M from \"materialize-css/dist/js/materialize.min.js\";\nimport { error_message, success_message } from \"../components/inc/Messages\";\nimport { ADD_TODO_LIST, DELETE_TODO_LIST, TODO_LIST_ERRORS, UPDATE_TODO_LIST, GET_TODO_LIST, GET_TODO_LISTS, SET_TODOLIST_LOADING, CLEAR_TODOLIST_ERRORS, CLEAR_TODOLIST_CURRENT } from \"./types\"; //configuration to append to request to be made\n\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n};\n/**\n *  persist ITEM to server and dispatch to reducer\n * @param {item} item \n * @returns \n */\n\nexport const addTodolist = item => async dispatch => {\n  await axios.post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: ADD_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    var _err$response, _err$response$data;\n\n    let errors = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errors;\n    errors ? M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    }) : M.toast({\n      html: error_message('Something went wrong. Refresh Page and try again')\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n};\n/**\n * get todolists of a loggedin user by passing in the user id\n * @param {id} id \n * @returns \n */\n\nexport const getTodolists = id => async dispatch => {\n  setLoading();\n  await axios.get(`${process.env.REACT_APP_API_URL}/todolists/${id}`, config).then(res => {\n    dispatch({\n      type: GET_TODO_LISTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    var _err$response2, _err$response2$data;\n\n    let errors = (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.errors;\n    errors ? M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    }) : M.toast({\n      html: error_message('Unknown Error. Please Check Internet Connectivity')\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: \"Something went wrong\"\n    });\n  });\n};\n/**\n * Delete a todolist by passing in the todolist id\n * @param {id} id \n * @returns \n */\n\nexport const deleteTodolist = id => async dispatch => {\n  await axios.delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: DELETE_TODO_LIST\n    });\n  }).catch(err => {\n    var _err$response3, _err$response3$data;\n\n    let errors = (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.errors;\n    errors ? M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    }) : M.toast({\n      html: error_message('Something went wrong. Refresh page and try again')\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n};\n/**\n *  update a todolist by passing in the todolist id and the item\n * The id is the todolist id, and item carries the information \n * of the todolist\n * @param {id} id \n * @param {item} item \n * @returns \n */\n\nexport const updateTodolist = (id, item) => async dispatch => {\n  await axios.post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: UPDATE_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    var _err$response4, _err$response4$data;\n\n    let errors = (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.errors;\n    errors ? M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    }) : M.toast({\n      html: error_message('Something went wrong. Refresh page and try again')\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n};\n/**\n * get the current todolist object by passing in todolist id tapped from the url\n * @param {id} id \n * @returns \n */\n\nexport const getTodolist = id => async dispatch => {\n  await axios.get(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config).then(res => {\n    dispatch({\n      type: GET_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: \"Something went wrong\"\n    });\n  });\n};\n/**\n * set the current of state to the data that came in\n * @param {current} data \n * @returns \n */\n\nexport const setCurrentTodolist = data => {\n  return {\n    type: GET_TODO_LIST,\n    payload: data\n  };\n}; //clear all todos in state by setting todos to null\n\nexport const clearTodolistErrors = () => {\n  return {\n    type: CLEAR_TODOLIST_ERRORS\n  };\n}; //clear current\n\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_TODOLIST_CURRENT\n  };\n}; //set loading\n\nexport const setLoading = () => dispatch => {\n  dispatch({\n    type: SET_TODOLIST_LOADING\n  });\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodolistActions.js"],"names":["axios","M","error_message","success_message","ADD_TODO_LIST","DELETE_TODO_LIST","TODO_LIST_ERRORS","UPDATE_TODO_LIST","GET_TODO_LIST","GET_TODO_LISTS","SET_TODOLIST_LOADING","CLEAR_TODOLIST_ERRORS","CLEAR_TODOLIST_CURRENT","config","headers","addTodolist","item","dispatch","post","process","env","REACT_APP_API_URL","then","res","toast","html","data","message","type","payload","catch","err","errors","response","Object","keys","getTodolists","id","setLoading","get","deleteTodolist","delete","updateTodolist","getTodolist","setCurrentTodolist","clearTodolistErrors","clearCurrent"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport M from \"materialize-css/dist/js/materialize.min.js\";\nimport { error_message, success_message } from \"../components/inc/Messages\"\nimport {\n  ADD_TODO_LIST,\n  DELETE_TODO_LIST,\n  TODO_LIST_ERRORS,\n  UPDATE_TODO_LIST,\n  GET_TODO_LIST,\n  GET_TODO_LISTS,\n  SET_TODOLIST_LOADING,\n  CLEAR_TODOLIST_ERRORS,\n  CLEAR_TODOLIST_CURRENT,\n} from \"./types\";\n\n\n//configuration to append to request to be made\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\n\n\n\n\n\n/**\n *  persist ITEM to server and dispatch to reducer\n * @param {item} item \n * @returns \n */\nexport const addTodolist = (item) => async (dispatch) => {\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: ADD_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response?.data?.errors\n     errors ? M.toast({ html: error_message(errors[Object.keys(errors)[0]]) }) \n     : M.toast({ html: error_message('Something went wrong. Refresh Page and try again')})\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: err.response && err.response.data.errors,\n      });\n    });\n};\n\n\n\n\n\n\n/**\n * get todolists of a loggedin user by passing in the user id\n * @param {id} id \n * @returns \n */\nexport const getTodolists = (id) => async (dispatch) => {\n  setLoading();\n  await axios\n    .get(`${process.env.REACT_APP_API_URL}/todolists/${id}`, config)\n    .then((res) => {\n      dispatch({\n        type: GET_TODO_LISTS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response?.data?.errors\n     errors ? M.toast({ html: error_message(errors[Object.keys(errors)[0]]) }) \n     : M.toast({ html: error_message('Unknown Error. Please Check Internet Connectivity')})\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: \"Something went wrong\",\n      });\n    });\n};\n\n\n\n\n\n\n/**\n * Delete a todolist by passing in the todolist id\n * @param {id} id \n * @returns \n */\nexport const deleteTodolist = (id) => async (dispatch) => {\n  await axios\n    .delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: DELETE_TODO_LIST,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response?.data?.errors\n     errors ? M.toast({ html: error_message(errors[Object.keys(errors)[0]]) }) \n     : M.toast({ html: error_message('Something went wrong. Refresh page and try again')})\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload:err.response && err.response.data.errors,\n      });\n    });\n};\n\n\n\n\n\n/**\n *  update a todolist by passing in the todolist id and the item\n * The id is the todolist id, and item carries the information \n * of the todolist\n * @param {id} id \n * @param {item} item \n * @returns \n */\nexport const updateTodolist = (id, item) => async (dispatch) => {\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: UPDATE_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response?.data?.errors\n     errors ? M.toast({ html: error_message(errors[Object.keys(errors)[0]]) }) \n     : M.toast({ html: error_message('Something went wrong. Refresh page and try again')})\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: err.response && err.response.data.errors,\n      });\n    });\n};\n\n\n\n\n\n\n/**\n * get the current todolist object by passing in todolist id tapped from the url\n * @param {id} id \n * @returns \n */\nexport const getTodolist = (id) => async (dispatch) => {\n  await axios\n    .get(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config)\n    .then((res) => {\n      dispatch({\n        type: GET_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: \"Something went wrong\",\n      });\n    });\n};\n\n\n\n\n/**\n * set the current of state to the data that came in\n * @param {current} data \n * @returns \n */\nexport const setCurrentTodolist = (data) => {\n  return { type: GET_TODO_LIST, payload: data };\n};\n\n\n\n\n\n//clear all todos in state by setting todos to null\nexport const clearTodolistErrors = () => {\n  return { type: CLEAR_TODOLIST_ERRORS };\n};\n\n\n\n\n//clear current\nexport const clearCurrent = () => {\n  return { type: CLEAR_TODOLIST_CURRENT };\n};\n\n\n\n\n//set loading\nexport const setLoading = () => (dispatch) => {\n  dispatch ({ type: SET_TODOLIST_LOADING });\n};\n"]},"metadata":{},"sourceType":"module"}
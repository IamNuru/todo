{"ast":null,"code":"import axios from \"axios\";\nimport M from \"materialize-css/dist/js/materialize.min.js\";\nimport { ADD_TODO_LIST, DELETE_TODO_LIST, TODO_LIST_ERRORS, UPDATE_TODO_LIST, GET_TODO_LIST, GET_TODO_LISTS, SET_TODOLIST_LOADING, CLEAR_TODOLIST_ERRORS, CLEAR_TODOLIST_CURRENT } from \"./types\";\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n}; //messages for toast\n\nconst error_message = message => {\n  return `<span class=\"error_messge_icon small\"></span> <span>${message}</span>`;\n};\n\nconst success_message = message => {\n  return `<span class=\"success_messge_icon small\"></span> <span>${message}</span>`;\n}; //actions\n//add todo item to server\n\n\nexport const addTodolist = item => async dispatch => {\n  /* setLoading() */\n  await axios.post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: ADD_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    let errors = err.response.data.errors;\n    M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n}; //get todos from server\n\nexport const getTodolists = id => async dispatch => {\n  setLoading();\n  await axios.get(`${process.env.REACT_APP_API_URL}/todolists/${id}`, config).then(res => {\n    dispatch({\n      type: GET_TODO_LISTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    let errors = err.response.data.errors;\n    M.toast({\n      html: error_message(errors[Object.keys(errors)[0]])\n    });\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: \"Something went wrong\"\n    });\n  });\n}; //delete todo from locastorage\n\nexport const deleteTodolist = id => async dispatch => {\n  await axios.delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: DELETE_TODO_LIST\n    });\n  }).catch(err => {\n    console.log(err.response);\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n}; //update a todo item\n\nexport const updateTodolist = (id, item) => async dispatch => {\n  await axios.post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config).then(res => {\n    M.toast({\n      html: success_message(res.data.message)\n    });\n    dispatch({\n      type: UPDATE_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: err.response && err.response.data.errors\n    });\n  });\n}; //set the current\n\nexport const getTodolist = id => async dispatch => {\n  await axios.get(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config).then(res => {\n    console.log(res);\n    dispatch({\n      type: GET_TODO_LIST,\n      payload: res.data\n    });\n  }).catch(err => {\n    console.log(err);\n    dispatch({\n      type: TODO_LIST_ERRORS,\n      payload: \"Something went wrong\"\n    });\n  });\n}; //set the current todolist\n\nexport const setCurrentTodolist = data => {\n  return {\n    type: GET_TODO_LIST,\n    payload: data\n  };\n}; //clear todo errors\n\nexport const clearTodolistErrors = () => {\n  return {\n    type: CLEAR_TODOLIST_ERRORS\n  };\n}; //clear current\n\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_TODOLIST_CURRENT\n  };\n}; //set loading\n\nexport const setLoading = () => dispatch => {\n  dispatch({\n    type: SET_TODOLIST_LOADING\n  });\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodolistActions.js"],"names":["axios","M","ADD_TODO_LIST","DELETE_TODO_LIST","TODO_LIST_ERRORS","UPDATE_TODO_LIST","GET_TODO_LIST","GET_TODO_LISTS","SET_TODOLIST_LOADING","CLEAR_TODOLIST_ERRORS","CLEAR_TODOLIST_CURRENT","config","headers","error_message","message","success_message","addTodolist","item","dispatch","post","process","env","REACT_APP_API_URL","then","res","toast","html","data","type","payload","catch","err","errors","response","Object","keys","getTodolists","id","setLoading","get","deleteTodolist","delete","console","log","updateTodolist","getTodolist","setCurrentTodolist","clearTodolistErrors","clearCurrent"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport M from \"materialize-css/dist/js/materialize.min.js\";\n\n\nimport {\n  ADD_TODO_LIST,\n  DELETE_TODO_LIST,\n  TODO_LIST_ERRORS,\n  UPDATE_TODO_LIST,\n  GET_TODO_LIST,\n  GET_TODO_LISTS,\n  SET_TODOLIST_LOADING,\n  CLEAR_TODOLIST_ERRORS,\n  CLEAR_TODOLIST_CURRENT,\n} from \"./types\";\n\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n};\n//messages for toast\nconst error_message = (message) => {\n  return `<span class=\"error_messge_icon small\"></span> <span>${message}</span>`;\n};\nconst success_message = (message) => {\n  return `<span class=\"success_messge_icon small\"></span> <span>${message}</span>`;\n};\n\n\n\n//actions\n\n//add todo item to server\nexport const addTodolist = (item) => async (dispatch) => {\n  /* setLoading() */\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/addtodolist`, item, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: ADD_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response.data.errors\n      M.toast({ html: error_message(errors[Object.keys(errors)[0]]) });\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: err.response && err.response.data.errors,\n      });\n    });\n};\n\n//get todos from server\nexport const getTodolists = (id) => async (dispatch) => {\n  setLoading();\n  await axios\n    .get(`${process.env.REACT_APP_API_URL}/todolists/${id}`, config)\n    .then((res) => {\n      dispatch({\n        type: GET_TODO_LISTS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      let errors = err.response.data.errors\n      M.toast({ html: error_message(errors[Object.keys(errors)[0]]) });\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: \"Something went wrong\",\n      });\n    });\n};\n\n//delete todo from locastorage\nexport const deleteTodolist = (id) => async (dispatch) => {\n  await axios\n    .delete(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: DELETE_TODO_LIST,\n      });\n    })\n    .catch((err) => {\n      console.log(err.response)\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload:err.response && err.response.data.errors,\n      });\n    });\n};\n\n//update a todo item\nexport const updateTodolist = (id, item) => async (dispatch) => {\n  await axios\n    .post(`${process.env.REACT_APP_API_URL}/updatetodolist/${id}`, item, config)\n    .then((res) => {\n      M.toast({ html: success_message(res.data.message) });\n      dispatch({\n        type: UPDATE_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: err.response && err.response.data.errors,\n      });\n    });\n};\n\n//set the current\nexport const getTodolist = (id) => async (dispatch) => {\n  await axios\n    .get(`${process.env.REACT_APP_API_URL}/todolist/${id}`, config)\n    .then((res) => {\n      console.log(res)\n      dispatch({\n        type: GET_TODO_LIST,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      console.log(err)\n      dispatch({\n        type: TODO_LIST_ERRORS,\n        payload: \"Something went wrong\",\n      });\n    });\n};\n\n\n//set the current todolist\nexport const setCurrentTodolist = (data) => {\n  return {\n    type: GET_TODO_LIST,\n    payload: data,\n  };\n};\n\n//clear todo errors\nexport const clearTodolistErrors = () => {\n  return {\n    type: CLEAR_TODOLIST_ERRORS\n  };\n};\n\n//clear current\nexport const clearCurrent = () => {\n  return {\n    type: CLEAR_TODOLIST_CURRENT,\n  };\n};\n\n//set loading\nexport const setLoading = () => (dispatch) => {\n  dispatch ({\n    type: SET_TODOLIST_LOADING,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_TODO, DELETE_TODO, ERRORS, UPDATE_TODO, GET_TODOS, GET_TODO, SET_LOADING, CLEAR_ERRORS, CLEAR_CURRENT } from \"./types\";\nconst config = {\n  headers: {\n    'Content-Type': 'application/json',\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n}; //actions\n//add todo item to server\n\nexport const addTodo = item => async dispatch => {\n  try {\n    /* const res = await fetch(`${process.env.REACT_APP_API_URL}/additem`,{ */\n    const res = await axios.post(`${process.env.REACT_APP_API_URL}/additem`, item, config);\n    /* const res = await fetch(`http://localhost:8000/api/todo/additem`,{\n      method: \"post\",\n      body: JSON.stringify(item),\n      headers:{\n        'Content-Type' : 'application/json',\n        \"Access-Control-Allow-Origin\": \"*\",\n      }\n    })\n    const data = await res.json() */\n\n    console.log(res.data);\n    dispatch({\n      type: ADD_TODO,\n      payload: res.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: ERRORS,\n      payload: \"Something went wrong\"\n    });\n  }\n}; //get todos from server\n\nexport const getTodos = (id = 1) => async dispatch => {\n  try {\n    const res = await fetch(`${process.env.REACT_APP_API_URL}/todos/${id}`);\n    const data = await res.json();\n    dispatch({\n      type: GET_TODOS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ERRORS,\n      payload: \"Something went wrong\"\n    });\n  }\n}; //delete todo from locastorage\n\nexport const deleteTodo = id => dispatch => {}; //update a todo item\n\nexport const updateTodo = (id, data) => async dispatch => {}; //set the current\n\nexport const setCurrent = data => dispatch => {\n  dispatch({\n    type: GET_TODO,\n    payload: data\n  });\n}; //clear todo errors\n\nexport const clearErrors = () => {\n  console.log('loading');\n  return {\n    type: CLEAR_ERRORS\n  };\n}; //clear current\n\nexport const clearCurrent = () => {\n  console.log('loading');\n  return {\n    type: CLEAR_CURRENT\n  };\n}; //set loading\n\nexport const setLoading = () => {\n  console.log('loadingS');\n  return {\n    type: SET_LOADING\n  };\n};","map":{"version":3,"sources":["/home/generous/projects/todo/src/actions/TodoActions.js"],"names":["axios","ADD_TODO","DELETE_TODO","ERRORS","UPDATE_TODO","GET_TODOS","GET_TODO","SET_LOADING","CLEAR_ERRORS","CLEAR_CURRENT","config","headers","addTodo","item","dispatch","res","post","process","env","REACT_APP_API_URL","console","log","data","type","payload","error","getTodos","id","fetch","json","deleteTodo","updateTodo","setCurrent","clearErrors","clearCurrent","setLoading"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACEC,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,WAJF,EAKEC,SALF,EAMEC,QANF,EAOEC,WAPF,EAQEC,YARF,EASEC,aATF,QAUO,SAVP;AAYA,MAAMC,MAAM,GAAE;AACZC,EAAAA,OAAO,EAAC;AACN,oBAAiB,kBADX;AAEN,mCAA+B;AAFzB;AADI,CAAd,C,CAMA;AAIA;;AACA,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AACnD,MAAI;AACF;AACE,UAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,UAA5C,EAAuDN,IAAvD,EAA8DH,MAA9D,CAAlB;AACF;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACIU,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACO,IAAhB;AACAR,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEtB,QADC;AAEPuB,MAAAA,OAAO,EAAET,GAAG,CAACO;AAFN,KAAD,CAAR;AAKD,GAlBD,CAkBE,OAAOG,KAAP,EAAc;AACdL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACAX,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEpB,MADC;AAEPqB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACF,CA1BM,C,CA+BP;;AACA,OAAO,MAAME,QAAQ,GAAG,CAACC,EAAE,GAAG,CAAN,KAAY,MAAOb,QAAP,IAAoB;AACpD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMa,KAAK,CAAE,GAAEX,OAAO,CAACC,GAAR,CAAYC,iBAAkB,UAASQ,EAAG,EAA9C,CAAvB;AACA,UAAML,IAAI,GAAG,MAAMP,GAAG,CAACc,IAAJ,EAAnB;AACAf,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAElB,SADC;AAEPmB,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOG,KAAP,EAAc;AACdX,IAAAA,QAAQ,CAAC;AACPS,MAAAA,IAAI,EAAEpB,MADC;AAEPqB,MAAAA,OAAO,EAAE;AAFF,KAAD,CAAR;AAID;AACJ,CAdM,C,CAkBP;;AACA,OAAO,MAAMM,UAAU,GAAIH,EAAD,IAASb,QAAD,IAAa,CAE9C,CAFM,C,CAIP;;AACA,OAAO,MAAMiB,UAAU,GAAG,CAACJ,EAAD,EAAKL,IAAL,KAAc,MAAOR,QAAP,IAAoB,CAE3D,CAFM,C,CAMP;;AACA,OAAO,MAAMkB,UAAU,GAAIV,IAAD,IAASR,QAAQ,IAAG;AAC5CA,EAAAA,QAAQ,CAAC;AACPS,IAAAA,IAAI,EAAEjB,QADC;AAEPkB,IAAAA,OAAO,EAAEF;AAFF,GAAD,CAAR;AAID,CALM,C,CAQP;;AACA,OAAO,MAAMW,WAAW,GAAG,MAAM;AAC7Bb,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACF,SAAO;AACLE,IAAAA,IAAI,EAAEf;AADD,GAAP;AAGD,CALM,C,CAOP;;AACA,OAAO,MAAM0B,YAAY,GAAG,MAAM;AAC9Bd,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACF,SAAO;AACLE,IAAAA,IAAI,EAAEd;AADD,GAAP;AAGD,CALM,C,CASP;;AACA,OAAO,MAAM0B,UAAU,GAAG,MAAM;AAC5Bf,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACF,SAAO;AACLE,IAAAA,IAAI,EAAEhB;AADD,GAAP;AAGD,CALM","sourcesContent":["import axios from \"axios\";\n\nimport {\n  ADD_TODO,\n  DELETE_TODO,\n  ERRORS,\n  UPDATE_TODO,\n  GET_TODOS,\n  GET_TODO,\n  SET_LOADING,\n  CLEAR_ERRORS,\n  CLEAR_CURRENT,\n} from \"./types\";\n\nconst config ={\n  headers:{\n    'Content-Type' : 'application/json',\n    \"Access-Control-Allow-Origin\": \"*\",\n  }\n}\n//actions\n\n\n\n//add todo item to server\nexport const addTodo = (item) => async (dispatch) => {\n  try {\n    /* const res = await fetch(`${process.env.REACT_APP_API_URL}/additem`,{ */\n      const res = await axios.post(`${process.env.REACT_APP_API_URL}/additem`, item , config)\n    /* const res = await fetch(`http://localhost:8000/api/todo/additem`,{\n      method: \"post\",\n      body: JSON.stringify(item),\n      headers:{\n        'Content-Type' : 'application/json',\n        \"Access-Control-Allow-Origin\": \"*\",\n      }\n    })\n    const data = await res.json() */\n    console.log(res.data)\n    dispatch({\n      type: ADD_TODO,\n      payload: res.data\n    })\n\n  } catch (error) {\n    console.log(error)\n    dispatch({\n      type: ERRORS,\n      payload: \"Something went wrong\"\n    })\n  }\n};\n\n\n\n\n//get todos from server\nexport const getTodos = (id = 1) => async (dispatch) => {\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/todos/${id}`)\n      const data = await res.json()\n      dispatch({\n        type: GET_TODOS,\n        payload: data\n      })\n    } catch (error) {\n      dispatch({\n        type: ERRORS,\n        payload: \"Something went wrong\"\n      })\n    }\n};\n\n\n\n//delete todo from locastorage\nexport const deleteTodo = (id) => (dispatch) =>{\n    \n}\n\n//update a todo item\nexport const updateTodo = (id, data) => async (dispatch) => {\n  \n};\n\n\n\n//set the current\nexport const setCurrent = (data) =>dispatch =>{\n  dispatch({\n    type: GET_TODO,\n    payload: data\n  })\n}\n\n\n//clear todo errors\nexport const clearErrors = () => {\n    console.log('loading')\n  return {\n    type: CLEAR_ERRORS,\n  };\n};\n\n//clear current\nexport const clearCurrent = () => {\n    console.log('loading')\n  return {\n    type: CLEAR_CURRENT,\n  };\n};\n\n\n\n//set loading\nexport const setLoading = () => {\n    console.log('loadingS')\n  return {\n    type: SET_LOADING,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}